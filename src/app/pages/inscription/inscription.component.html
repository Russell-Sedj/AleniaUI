<div
  class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 font-inter pt-20"
>
  <main class="container mx-auto max-w-2xl px-4 py-8">
    <div class="space-y-4 mb-6">
      <button
        routerLink="/page-accueil"
        class="inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium"
      >
        <svg
          class="w-5 h-5 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          />
        </svg>
        Retour à l'accueil
      </button>

      <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
              Créer un compte
            </h1>
            <p class="text-gray-600">
              Rejoignez notre plateforme et découvrez de nouvelles opportunités
            </p>
          </div>
          <img
            src="/assets/images/logo.png"
            alt="Logo Alenia"
            class="w-16 h-16 object-contain"
          />
        </div>

        <div class="text-center mb-6 p-4 bg-blue-50 rounded-lg">
          <p class="text-sm text-gray-700">
            Déjà un compte ?
            <a
              routerLink="/connexion"
              class="text-blue-600 hover:text-blue-800 font-semibold"
            >
              Se connecter
            </a>
          </p>
        </div>

        <!-- Zone d'affichage des notifications -->
        <div id="toast-container" class="mb-6"></div>

        <form
          #registrationForm="ngForm"
          (ngSubmit)="onSubmit(registrationForm)"
          class="space-y-6"
          novalidate
        >
          <!-- Informations personnelles -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label
                for="firstName"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Prénom <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                name="firstName"
                id="firstName"
                [(ngModel)]="formData.firstName"
                required
                #firstName="ngModel"
                class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:outline-none transition-colors duration-200"
                placeholder="Votre prénom"
              />
              <div
                *ngIf="firstName.invalid && firstName.touched"
                class="mt-1 text-sm text-red-600"
              >
                Le prénom est requis
              </div>
            </div>
            <div>
              <label
                for="lastName"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Nom <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                name="lastName"
                id="lastName"
                [(ngModel)]="formData.lastName"
                required
                #lastName="ngModel"
                class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:outline-none transition-colors duration-200"
                placeholder="Votre nom"
              />
              <div
                *ngIf="lastName.invalid && lastName.touched"
                class="mt-1 text-sm text-red-600"
              >
                Le nom est requis
              </div>
            </div>
          </div>

          <!-- Contact -->
          <div class="space-y-4">
            <div>
              <label
                for="phoneNumber"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                <svg
                  class="inline w-4 h-4 mr-1"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  />
                </svg>
                Numéro de téléphone
              </label>
              <div class="flex">
                <select
                  name="countryCode"
                  id="countryCode"
                  [(ngModel)]="formData.countryCode"
                  class="px-3 py-3 bg-gray-50 border-2 border-gray-200 border-r-0 rounded-l-lg focus:border-blue-500 focus:outline-none"
                >
                  <option value="+33">+33</option>
                  <option value="+1">+1</option>
                  <option value="+44">+44</option>
                  <option value="+49">+49</option>
                </select>
                <input
                  type="tel"
                  name="phoneNumber"
                  id="phoneNumber"
                  [(ngModel)]="formData.phoneNumber"
                  class="flex-1 px-4 py-3 border-2 border-gray-200 border-l-0 rounded-r-lg focus:border-blue-500 focus:outline-none transition-colors duration-200"
                  placeholder="06 12 34 56 78"
                />
              </div>
            </div>

            <div>
              <label
                for="email"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                <svg
                  class="inline w-4 h-4 mr-1"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                  />
                </svg>
                Email <span class="text-red-500">*</span>
              </label>
              <input
                type="email"
                name="email"
                id="email"
                [(ngModel)]="formData.email"
                required
                #email="ngModel"
                class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:outline-none transition-colors duration-200"
                placeholder="votre.email@exemple.com"
              />
              <div
                *ngIf="email.invalid && email.touched"
                class="mt-1 text-sm text-red-600"
              >
                <span *ngIf="email.errors?.['required']"
                  >L'email est requis</span
                >
                <span *ngIf="email.errors?.['email']"
                  >Format d'email invalide</span
                >
              </div>
            </div>

            <div>
              <label
                for="password"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                <svg
                  class="inline w-4 h-4 mr-1"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                  />
                </svg>
                Mot de passe <span class="text-red-500">*</span>
              </label>
              <input
                type="password"
                name="password"
                id="password"
                [(ngModel)]="formData.password"
                required
                #password="ngModel"
                minlength="6"
                class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:outline-none transition-colors duration-200"
                placeholder="••••••••"
              />
              <div
                *ngIf="password.invalid && password.touched"
                class="mt-1 text-sm text-red-600"
              >
                <span *ngIf="password.errors?.['required']"
                  >Le mot de passe est requis</span
                >
                <span *ngIf="password.errors?.['minlength']"
                  >Le mot de passe doit contenir au moins 6 caractères</span
                >
              </div>
            </div>

            <div>
              <label
                for="confirmPassword"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                <svg
                  class="inline w-4 h-4 mr-1"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                  />
                </svg>
                Confirmer le mot de passe <span class="text-red-500">*</span>
              </label>
              <input
                type="password"
                name="confirmPassword"
                id="confirmPassword"
                [(ngModel)]="formData.confirmPassword"
                required
                #confirmPassword="ngModel"
                class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:outline-none transition-colors duration-200"
                placeholder="••••••••"
              />
              <div
                *ngIf="confirmPassword.invalid && confirmPassword.touched"
                class="mt-1 text-sm text-red-600"
              >
                La confirmation du mot de passe est requise
              </div>
              <div
                *ngIf="
                  formData.password &&
                  formData.confirmPassword &&
                  formData.password !== formData.confirmPassword
                "
                class="mt-1 text-sm text-red-600"
              >
                Les mots de passe ne correspondent pas
              </div>
            </div>
          </div>

          <!-- Conditions d'utilisation -->
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
            <div class="flex items-start gap-3">
              <input
                type="checkbox"
                name="termsAccepted"
                id="termsAccepted"
                [(ngModel)]="formData.termsAccepted"
                required
                #termsAccepted="ngModel"
                class="mt-1 w-4 h-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"
              />
              <label
                for="termsAccepted"
                class="text-sm text-gray-700 leading-relaxed"
              >
                J'accepte les
                <a
                  href="#"
                  class="text-blue-600 hover:text-blue-800 underline font-medium"
                >
                  conditions générales d'utilisation
                </a>
                et la
                <a
                  href="#"
                  class="text-blue-600 hover:text-blue-800 underline font-medium"
                >
                  politique de confidentialité
                </a>
                <span class="text-red-500">*</span>
              </label>
            </div>
            <div
              *ngIf="termsAccepted.invalid && termsAccepted.touched"
              class="mt-2 text-sm text-red-600"
            >
              Vous devez accepter les conditions d'utilisation
            </div>
          </div>

          <!-- Bouton de soumission -->
          <button
            type="submit"
            [disabled]="
              isLoading ||
              registrationForm.invalid ||
              formData.password !== formData.confirmPassword
            "
            class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 px-6 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-semibold text-lg shadow-lg"
          >
            <div class="flex items-center justify-center">
              <svg
                *ngIf="isLoading"
                class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                ></path>
              </svg>
              {{ isLoading ? "Inscription en cours..." : "Créer mon compte" }}
            </div>
          </button>
        </form>
      </div>
    </div>
  </main>
</div>
