<main
  class="min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-white"
  role="main"
>
  <!-- Header avec navigation accessible -->
  <header class="w-full bg-white shadow-sm py-4" role="banner">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <nav aria-label="Navigation principale">
        <a
          href="/"
          class="flex justify-center items-center group focus:outline-none focus:ring-2 focus:ring-[#90ade1] rounded-lg p-2"
          aria-label="Retour à l'accueil Alenia"
        >
          <img
            src="/assets/images/logo.png"
            alt=""
            class="h-10 w-auto"
            aria-hidden="true"
          />
          <span
            class="ml-3 text-2xl font-semibold text-gray-900 group-hover:text-[#90ade1] transition-colors"
          >
            Alenia
          </span>
        </a>
      </nav>
    </div>
  </header>

  <!-- Contenu principal -->
  <div
    class="flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
  >
    <div class="max-w-md w-full space-y-8">
      <!-- Card de connexion avec effet de profondeur subtil -->
      <div
        class="bg-white rounded-2xl shadow-xl p-8 sm:p-10 border border-gray-100"
      >
        <div class="text-center">
          <h1 class="text-3xl font-bold text-gray-900 tracking-tight">
            Bienvenue sur Alenia
          </h1>
          <p class="mt-4 text-lg text-gray-600">
            La plateforme d'intérim dédiée aux professionnels de santé
          </p>
        </div>

        <!-- Message d'erreur accessible -->
        <div
          *ngIf="errorMessage"
          role="alert"
          aria-live="polite"
          class="mt-6 bg-red-50 border-l-4 border-red-400 p-4 rounded-md"
        >
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <svg
                class="h-5 w-5 text-red-400"
                role="img"
                aria-label="Icône d'erreur"
              >
                <use href="#error-icon"></use>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm text-red-700">{{ errorMessage }}</p>
            </div>
          </div>
        </div>

        <!-- Formulaire avec labels visibles pour une meilleure accessibilité -->
        <form
          #loginForm="ngForm"
          (ngSubmit)="onSubmit(loginForm)"
          class="mt-8 space-y-6"
          novalidate
        >
          <div class="space-y-4">
            <!-- Champ Email -->
            <div>
              <label
                for="email"
                class="block text-sm font-medium text-gray-700 mb-1"
              >
                Adresse email
              </label>
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <svg class="h-5 w-5 text-gray-400" aria-hidden="true">
                    <path
                      d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
                    />
                    <path
                      d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
                    />
                  </svg>
                </div>
                <input
                  id="email"
                  name="email"
                  type="email"
                  [(ngModel)]="model.email"
                  required
                  autocomplete="email"
                  aria-required="true"
                  [attr.aria-invalid]="
                    loginForm.form.get('email')?.invalid &&
                    loginForm.form.get('email')?.touched
                  "
                  class="pl-10 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-[#90ade1] focus:border-[#90ade1] sm:text-sm"
                  placeholder="vous@exemple.com"
                />
              </div>
            </div>

            <!-- Champ Mot de passe -->
            <div>
              <label
                for="password"
                class="block text-sm font-medium text-gray-700 mb-1"
              >
                Mot de passe
              </label>
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <svg class="h-5 w-5 text-gray-400" aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
                <input
                  id="password"
                  name="motDePass"
                  type="password"
                  [(ngModel)]="model.motDePass"
                  required
                  autocomplete="current-password"
                  aria-required="true"
                  [attr.aria-invalid]="
                    loginForm.form.get('motDePass')?.invalid &&
                    loginForm.form.get('motDePass')?.touched
                  "
                  class="pl-10 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-[#90ade1] focus:border-[#90ade1] sm:text-sm"
                />
              </div>
            </div>
          </div>

          <!-- Options de connexion -->
          <div class="flex items-center justify-between mt-6">
            <div class="flex items-center">
              <input
                id="remember-me"
                name="remember-me"
                type="checkbox"
                class="h-4 w-4 rounded border-gray-300 text-[#90ade1] focus:ring-[#90ade1]"
                aria-label="Se souvenir de moi"
              />
              <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                Se souvenir de moi
              </label>
            </div>

            <a
              href="#"
              class="text-sm font-medium text-[#90ade1] hover:text-[#7291c8] focus:outline-none focus:ring-2 focus:ring-[#90ade1] rounded-lg px-2 py-1"
              aria-label="Réinitialiser votre mot de passe"
            >
              Mot de passe oublié ?
            </a>
          </div>

          <!-- Bouton de connexion -->
          <button
            type="submit"
            [disabled]="!loginForm.valid"
            aria-label="Se connecter à votre compte"
            [ngClass]="{
              'opacity-50 cursor-not-allowed': !loginForm.valid,
              'hover:bg-[#7291c8] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#90ade1]':
                loginForm.valid
            }"
            class="mt-6 w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-[#90ade1] transition-all duration-200 ease-in-out"
          >
            <span
              class="absolute left-0 inset-y-0 flex items-center pl-3"
              aria-hidden="true"
            >
              <svg
                class="h-5 w-5 text-[#7291c8] group-hover:text-[#90ade1]"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                  clip-rule="evenodd"
                />
              </svg>
            </span>
            Se connecter
          </button>

          <!-- Lien d'inscription -->
          <p class="mt-6 text-center text-sm text-gray-600">
            Pas encore de compte ?
            <a
              href="/register"
              class="font-medium text-[#90ade1] hover:text-[#7291c8] focus:outline-none focus:ring-2 focus:ring-[#90ade1] rounded-lg px-2 py-1"
            >
              Créer un compte
            </a>
          </p>
        </form>
      </div>
    </div>
  </div>
</main>

<!-- SVG Icons -->
<svg class="hidden" aria-hidden="true">
  <symbol id="error-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
    />
  </symbol>
</svg>
